@inject NavigationManager Navigation
@implements IDisposable

<nav class="admin-sidebar">
    <div class="sidebar-top">
        <div class="user-profile">
            <div class="user-avatar">A</div>
            <div class="user-info">
                <span class="user-name">Admin</span>
                <span class="user-title">admin@example.com</span>
            </div>
        </div>

        <div class="nav-links">
            <NavLink href="/admin/dashboard" class="nav-item" Match="NavLinkMatch.All">
                <i class="bi bi-speedometer2"></i>
                <span>Dashboard</span>
            </NavLink>

            <NavLink href="/admin/users" class="nav-item" Match="NavLinkMatch.Prefix">
                <i class="bi bi-people-fill"></i>
                <span>Users</span>
            </NavLink>

            <NavLink href="/admin/content" class="nav-item" Match="NavLinkMatch.Prefix">
                <i class="bi bi-collection-play-fill"></i>
                <span>Content And Skills</span>
            </NavLink>

            <NavLink class="nav-item" href="/admin/email-templates" Match="NavLinkMatch.Prefix">
                <i class="bi bi-envelope-paper-fill"></i>
                Email Templates
            </NavLink>

            <NavLink class="nav-item" href="/admin/moderation" Match="NavLinkMatch.Prefix">
                <i class="bi bi-shield-check"></i>
                Content Moderation
            </NavLink>

            <NavLink class="nav-item" href="/admin/system-health" Match="NavLinkMatch.Prefix">
                <i class="bi bi-heart-pulse-fill"></i>
                System Health
            </NavLink>

            <NavLink href="/admin/announcements" class="nav-item" Match="NavLinkMatch.Prefix">
                <i class="bi bi-megaphone-fill"></i>
                <span>Announcements</span>
            </NavLink>

            <NavLink href="/admin/payments" class="nav-item" Match="NavLinkMatch.Prefix">
                <i class="bi bi-credit-card-fill"></i>
                <span>Payments</span>
            </NavLink>

            <NavLink href="/admin/discounts" class="nav-item" Match="NavLinkMatch.Prefix">
                <i class="bi bi-tags-fill"></i>
                <span>Discounts</span>
            </NavLink>

            <NavLink href="/admin/disputes" class="nav-item" Match="NavLinkMatch.Prefix">
                <i class="bi bi-exclamation-octagon-fill"></i>
                <span>Disputes</span>
            </NavLink>

            <NavLink href="/admin/analytics" class="nav-item" Match="NavLinkMatch.Prefix">
                <i class="bi bi-bar-chart-fill"></i>
                <span>Analytics</span>
            </NavLink>

            <NavLink href="/admin/logs" class="nav-item" Match="NavLinkMatch.Prefix">
                <i class="bi bi-file-earmark-text-fill"></i>
                <span>System Logs</span>
            </NavLink>
        </div>
    </div>

    <div class="sidebar-bottom">
        <NavLink href="/admin/settings" class="nav-item" Match="NavLinkMatch.Prefix">
            <i class="bi bi-gear-fill"></i>
            <span>Settings</span>
        </NavLink>
        <button class="btn-logout" @onclick="Logout">
            <i class="bi bi-box-arrow-right"></i>
            <span>Logout</span>
        </button>
    </div>
</nav>

@code {
    private string currentUrl;

    protected override void OnInitialized()
    {
        currentUrl = Navigation.Uri;
        Navigation.LocationChanged += OnLocationChanged;
    }

    private void OnLocationChanged(object sender, LocationChangedEventArgs e)
    {
        currentUrl = e.Location;
        StateHasChanged();
    }

    private void Logout()
    {
        // Add your logout logic here
        Navigation.NavigateTo("/login");
    }

    public void Dispose()
    {
        Navigation.LocationChanged -= OnLocationChanged;
    }
}