@page "/admin/payments/currency-settings"
@layout AdminLayout
@using CraftConnect.WASM.Layout.AdminPageLayouts
@using CraftConnect.WASM.Components.AdminPagesComponents.CurrencySettingsPageComponents
@using CraftConnect.WASM.ViewModels

<div class="currency-settings-container">
    <!-- Page Header -->
    <header class="page-header">
        <h1>Currency Settings</h1>
        <button class="btn btn-primary">
            <i class="bi bi-plus-lg"></i>
            Add New Currency
        </button>
    </header>
    <p class="page-description">
        Manage the currencies your platform supports. Set a default currency and manage exchange rates.
    </p>

    <!-- Search Bar -->
    <div class="search-bar-wrapper">
        <div class="search-input-wrapper">
            <i class="bi bi-search"></i>
            <input type="text" placeholder="Filter currencies by name or code" />
        </div>
    </div>

    <!-- Table Container -->
    <div class="table-container">
        <table class="currency-table">
            <thead>
                <tr>
                    <th class="col-default">Default</th>
                    <th>Currency</th>
                    <th>Code</th>
                    <th>Symbol</th>
                    <th>Exchange Rate</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var currency in currencies)
                {
                    <tr>
                        <td class="col-default">
                            <input type="radio" name="default-currency" checked="@currency.IsDefault" />
                        </td>
                        <td class="cell-currency-name">@currency.CurrencyName</td>
                        <td>@currency.Code</td>
                        <td>@currency.Symbol</td>
                        <td>@currency.ExchangeRate.ToString("F4")</td>
                        <td>
                            <CurrencyStatusBadge Status="@currency.Status" />
                        </td>
                        <td class="cell-actions">
                            <a href="#" class="action-link">Edit</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <!-- Table Footer -->
    <div class="table-footer">
        <button class="btn-page-nav">
            <i class="bi bi-chevron-left"></i>
            Previous
        </button>
        <div class="page-numbers">
            <button class="btn-page active">1</button>
            <button class="btn-page">2</button>
            <button class="btn-page">3</button>
            <span class="page-ellipsis">...</span>
            <button class="btn-page">8</button>
            <button class="btn-page">9</button>
            <button class="btn-page">10</button>
        </div>
        <button class="btn-page-nav">
            Next
            <i class="bi bi-chevron-right"></i>
        </button>
    </div>
</div>

@code {
    private List<AdminCurrency> currencies = new();

    protected override void OnInitialized()
    {
        // Mock data from the image
        currencies = new List<AdminCurrency>
        {
            new AdminCurrency { Id = Guid.NewGuid(), IsDefault = true, CurrencyName = "US Dollar", Code = "USD", Symbol = "$", ExchangeRate = 1.0000m, Status = "Active" },
            new AdminCurrency { Id = Guid.NewGuid(), IsDefault = false, CurrencyName = "Euro", Code = "EUR", Symbol = "€", ExchangeRate = 0.9200m, Status = "Active" },
            new AdminCurrency { Id = Guid.NewGuid(), IsDefault = false, CurrencyName = "British Pound", Code = "GBP", Symbol = "£", ExchangeRate = 0.7900m, Status = "Active" },
            new AdminCurrency { Id = Guid.NewGuid(), IsDefault = false, CurrencyName = "Japanese Yen", Code = "JPY", Symbol = "¥", ExchangeRate = 157.25m, Status = "Inactive" }
        };
    }
}