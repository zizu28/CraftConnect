@page "/admin/content"
@layout AdminLayout
@using CraftConnect.WASM.Layout.AdminPageLayouts
@using CraftConnect.WASM.Components.AdminPagesComponents.ContentManagementPageComponents
@using CraftConnect.WASM.ViewModels

<div class="content-management-container">
    <!-- Page Header -->
    <header class="page-header">
        <h1>Content And Skills Management</h1>
        <p>Manage categories and skills for the platform.</p>
    </header>

    <!-- Content Grid -->
    <div class="content-grid">

        <!-- Categories Card -->
        <div class="management-card">
            <header class="card-header">
                <h2>Categories</h2>
                <button class="btn btn-primary">
                    <i class="bi bi-plus-lg"></i>
                    Add Category
                </button>
            </header>
            <div class="card-search">
                <i class="search-icon bi bi-search"></i>
                <input type="text" placeholder="Search categories..." />
            </div>
            <div class="item-list">
                @foreach (var category in categories)
                {
                    <ManagementListItem ItemName="@category.Name" IconClass="@category.IconSvgPath" />
                }
            </div>
        </div>

        <!-- Skills Card -->
        <div class="management-card">
            <header class="card-header">
                <h2>Skills for "Woodworking"</h2>
                <button class="btn btn-primary">
                    <i class="bi bi-plus-lg"></i>
                    Add Skill
                </button>
            </header>
            <div class="card-search">
                <i class="search-icon bi bi-search"></i>
                <input type="text" placeholder="Search skills..." />
            </div>
            <div class="item-list">
                @foreach (var skill in skills)
                {
                    <ManagementListItem ItemName="@skill.Name" IconClass="@skill.IconSvgPath" />
                }
            </div>
        </div>
        
    </div>
</div>

@code {
    private List<ContentCategory> categories = new();
    private List<Skill> skills = new();

    // SVG paths for icons (from Heroicons)
    private const string woodworkingIcon = "bi-tree-fill";
    private const string metalworkingIcon = "bi-tools";
    private const string textilesIcon = "bi-scissors";
    private const string paintingIcon = "bi-paint-bucket";
    private const string cabinetIcon = "bi-archive-fill";
    private const string woodCarvingIcon = "bi-brush"; // best fit
    private const string furnitureIcon = "bi-lamp-fill";
    private const string joineryIcon = "bi-puzzle-fill";


    protected override void OnInitialized()
    {
        // Mock data from the image
        categories = new List<ContentCategory>
        {
            new ContentCategory { Id = Guid.NewGuid(), Name = "Woodworking", IconSvgPath = woodworkingIcon },
            new ContentCategory { Id = Guid.NewGuid(), Name = "Metalworking", IconSvgPath = metalworkingIcon },
            new ContentCategory { Id = Guid.NewGuid(), Name = "Textiles", IconSvgPath = textilesIcon },
            new ContentCategory { Id = Guid.NewGuid(), Name = "Painting", IconSvgPath = paintingIcon }
        };

        skills = new List<Skill>
        {
            new Skill { Id = Guid.NewGuid(), Name = "Cabinet Making", IconSvgPath = cabinetIcon },
            new Skill { Id = Guid.NewGuid(), Name = "Wood Carving", IconSvgPath = woodCarvingIcon },
            new Skill { Id = Guid.NewGuid(), Name = "Furniture Restoration", IconSvgPath = furnitureIcon },
            new Skill { Id = Guid.NewGuid(), Name = "Joinery", IconSvgPath = joineryIcon }
        };
    }
}
