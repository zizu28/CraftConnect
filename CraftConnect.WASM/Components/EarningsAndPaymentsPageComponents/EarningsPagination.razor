<nav class="pagination-nav">
    <button class="page-arrow @(CurrentPage == 1 ? "disabled" : "")"
            @onclick="() => OnPageChange(CurrentPage - 1)"
            disabled="@(CurrentPage == 1)">
        <i class="bi bi-chevron-left"></i>
    </button>

    @for (int i = 1; i <= TotalPages; i++)
    {
        int pageNumber = i;
        <button class="page-number @(CurrentPage == pageNumber ? "active" : "")"
                @onclick="() => OnPageChange(pageNumber)">
            @pageNumber
        </button>
    }

    <button class="page-arrow @(CurrentPage == TotalPages ? "disabled" : "")"
            @onclick="() => OnPageChange(CurrentPage + 1)"
            disabled="@(CurrentPage == TotalPages)">
        <i class="bi bi-chevron-right"></i>
    </button>
</nav>

@code {
    [Parameter]
    public int CurrentPage { get; set; } = 1;

    [Parameter]
    public int TotalPages { get; set; } = 1;

    [Parameter]
    public EventCallback<int> OnPageChanged { get; set; }

    private async Task OnPageChange(int page)
    {
        if (page < 1 || page > TotalPages || page == CurrentPage)
        {
            return;
        }
        await OnPageChanged.InvokeAsync(page);
    }
}