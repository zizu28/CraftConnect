@using CraftConnect.WASM.ViewModels
<div class="faq-item">
    <button class="faq-question" @onclick="ToggleAnswer">
        <span>@Item.Question</span>
        <i class="chevron bi bi-chevron-down @(isOpen ? "open" : "")"></i>
    </button>

    @if (isOpen)
    {
        <div class="faq-answer">
            <p>@Item.Answer</p>
            <div class="was-helpful">
                <span>Was this helpful?</span>
                <button class="helpful-btn">
                    <i class="bi bi-hand-thumbs-up-fill"></i>
                    Yes
                </button>
                <button class="helpful-btn">
                    <i class="bi bi-hand-thumbs-down-fill"></i>
                    No
                </button>
            </div>
        </div>
    }
</div>

@code {
    [Parameter]
    public FaqItem Item { get; set; }

    private bool isOpen = false;

    protected override void OnParametersSet()
    {
        // Automatically open the first item
        if (Item.Id.ToString() is not null)
        {
            isOpen = true;
        }
    }

    private void ToggleAnswer()
    {
        isOpen = !isOpen;
    }
}