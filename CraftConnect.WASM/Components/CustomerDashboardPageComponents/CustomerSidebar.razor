@using CraftConnect.WASM.ViewModels
@inject NavigationManager NavManager

<nav class="sidebar">
    <div class="sidebar-top">
        <div class="logo-header">
            <!-- You can replace this with your actual logo SVG or <img> -->
            <i class="bi bi-tools logo-icon"></i>
            <span class="logo-text">CraftConnect</span>
        </div>

        <!-- User Profile Section -->
        <div class="user-profile">
            <div class="user-avatar">
                <span>@User.AvatarInitials</span>
            </div>
            <div class="user-info">
                <span class="welcome-text">Welcome back,</span>
                <span class="user-name">@User.Name</span>
            </div>
        </div>

        <!-- Navigation Links -->
        <div class="nav-links">
            <NavLink href=@($"/customer/{CustomerId}/dashboard") Match="NavLinkMatch.All" class="nav-item">
                <i class="bi bi-speedometer2"></i>
                <span>Dashboard</span>
            </NavLink>
            <NavLink href=@($"/customer/{CustomerId}/profile/edit") Match="NavLinkMatch.All" class="nav-item">
                <i class="bi bi-person-gear"></i>
                <span>Profile Setup</span>
            </NavLink>
            <NavLink href=@($"/customer/{CustomerId}/service-requests") Match="NavLinkMatch.Prefix" class="nav-item">
                <i class="bi bi-clipboard-data-fill"></i>
                <span>Service Requests</span>
            </NavLink>
            <NavLink href=@($"/customer/{CustomerId}/proposals") Match="NavLinkMatch.Prefix" class="nav-item">
                <i class="bi bi-file-earmark-text-fill"></i>
                <span>Proposals</span>
            </NavLink>
            <NavLink href=@($"/customer/{CustomerId}/project-history") Match="NavLinkMatch.Prefix" class="nav-item">
                <i class="bi bi-clock-history"></i>
                <span>Project History</span>
            </NavLink>
            <NavLink href=@($"/customer/{CustomerId}/messages") Match="NavLinkMatch.Prefix" class="nav-item">
                <i class="bi bi-chat-dots-fill"></i>
                <span>Messages</span>
                <span class="message-dot"></span>
            </NavLink>
        </div>
    </div>

    <!-- Post Project Button -->
    <button class="post-project-btn" @onclick="PostNewProject">
        Post a New Project
    </button>
</nav>

@code {
    [Parameter]
    public Guid CustomerId { get; set; }
    [Parameter]
    public UserProfileVM User { get; set; } = new UserProfileVM { Name = "Jane Doe" }; // Default for design

    private void PostNewProject()
    {
        NavManager.NavigateTo($"/customer/{CustomerId}/post-project");
    }
}
