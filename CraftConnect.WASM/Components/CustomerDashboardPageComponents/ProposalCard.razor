@using CraftConnect.WASM.ViewModels
<div class="proposal-card">
    <div class="proposal-header">
        <div class="craftsman-info">
            <img class="craftsman-avatar" src="@(string.IsNullOrEmpty(Proposal.CraftsmanAvatarUrl) ? "/images/user-avatar.jpg" : Proposal.CraftsmanAvatarUrl)" alt="@Proposal.CraftsmanName" />
            <div>
                <span class="craftsman-name">@Proposal.CraftsmanName</span>
                <div class="craftsman-rating">
                    <i class="bi bi-star-fill text-warning"></i>
                    <span>@Proposal.CraftsmanRating.ToString("F1")</span>
                </div>
            </div>
        </div>
        <span class="proposal-price">@Proposal.Price.ToString("C0", new System.Globalization.CultureInfo("en-US"))</span>
    </div>

    <p class="proposal-excerpt">@Proposal.Excerpt</p>

    <div class="proposal-actions">
        <a href=@($"https://localhost:7222/proposals/{ProposalId}") class="action-btn btn-primary">View Proposal</a>
        <a href=@($"https://localhost:7222/craftsman/{Proposal.ProfileUrl}") class="action-btn btn-secondary">View Profile</a>
    </div>
</div>

@code {
    [Parameter]
    public CustomerProposalSummaryVM Proposal { get; set; }

    [Parameter]
    public Guid CustomerId { get; set; }

    [Parameter]
    public Guid ProposalId { get; set; }
}
