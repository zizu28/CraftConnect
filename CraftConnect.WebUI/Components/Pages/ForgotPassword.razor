@page "/forgot-password"
@layout ForgotPasswordLayout
@using CraftConnect.WebUI.Components.Layout
@using System.ComponentModel.DataAnnotations

<div class="forgot-password-card">
    <EditForm Model="model" OnValidSubmit="HandleSendResetLink">
        <DataAnnotationsValidator />

        <div class="card-header">
            <h2>Forgot Your Password?</h2>
            <p>Enter the email address associated with your account, and we'll send you a link to reset your password.</p>
        </div>

        <div class="form-group">
            <label for="email">Email Address</label>
            <InputText id="email" class="form-control" @bind-Value="model.Email" placeholder="you@example.com" />
            <ValidationMessage For="@(() => model.Email)" />
        </div>

        <button type="submit" class="btn btn-primary btn-block">Send Reset Link</button>

    </EditForm>

    <div class="back-to-login">
        <a href="/login">Back to Log In</a>
    </div>
</div>

@code {
    private ForgotPasswordViewModel model = new();
    private bool formSubmitted = false;

    private void HandleSendResetLink()
    {
        formSubmitted = true;
        // Handle the password reset logic here
        Console.WriteLine($"Password reset link sent to: {model.Email}");
        // You would typically show a confirmation message here
    }
}