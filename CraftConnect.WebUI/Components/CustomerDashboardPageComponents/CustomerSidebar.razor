@inject NavigationManager NavManager

<nav class="sidebar">
    <div class="sidebar-top">
        <!-- Logo Header -->
        <div class="logo-header">
            <!-- You can replace this with your actual logo SVG or <img> -->
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="logo-icon">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L21.75 5.25l-.813 2.846a4.5 4.5 0 00-3.09 3.09L15 12l2.846.813a4.5 4.5 0 003.09 3.09l.813 2.846-2.846.813a4.5 4.5 0 00-3.09 3.09L18.25 21.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L12 15l2.846-.813a4.5 4.5 0 003.09-3.09z" />
            </svg>
            <span class="logo-text">CraftConnect</span>
        </div>

        <!-- User Profile Section -->
        <div class="user-profile">
            <div class="user-avatar">
                <span>@User.AvatarInitials</span>
            </div>
            <div class="user-info">
                <span class="welcome-text">Welcome back,</span>
                <span class="user-name">@User.Name</span>
            </div>
        </div>

        <!-- Navigation Links -->
        <div class="nav-links">
            <NavLink href=@($"/customer/{CustomerId}/dashboard") Match="NavLinkMatch.All" class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.25 2A2.25 2.25 0 002 4.25v2.5A2.25 2.25 0 004.25 9h2.5A2.25 2.25 0 009 6.75v-2.5A2.25 2.25 0 006.75 2h-2.5zm0 9A2.25 2.25 0 002 13.25v2.5A2.25 2.25 0 004.25 18h2.5A2.25 2.25 0 009 15.75v-2.5A2.25 2.25 0 006.75 11h-2.5zm9-9A2.25 2.25 0 0011 4.25v2.5A2.25 2.25 0 0013.25 9h2.5A2.25 2.25 0 0018 6.75v-2.5A2.25 2.25 0 0015.75 2h-2.5zm0 9A2.25 2.25 0 0011 13.25v2.5A2.25 2.25 0 0013.25 18h2.5A2.25 2.25 0 0018 15.75v-2.5A2.25 2.25 0 0015.75 11h-2.5z" clip-rule="evenodd" /></svg>
                <span>Dashboard</span>
            </NavLink>
            <NavLink href=@($"/customer/{CustomerId}/service-requests") Match="NavLinkMatch.Prefix" class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10 3.75a.75.75 0 01.75.75v1.5h1.5a.75.75 0 010 1.5h-1.5v1.5a.75.75 0 01-1.5 0v-1.5h-1.5a.75.75 0 010-1.5h1.5v-1.5a.75.75 0 01.75-.75zM10 8a2 2 0 100-4 2 2 0 000 4z" /><path fill-rule="evenodd" d="M.91 10.246a.75.75 0 01.191-.53L3.57 6.643a.75.75 0 011.026.046l1.37 1.141a.75.75 0 00.963-.038L8.71 6.03a.75.75 0 011.006-.039l1.369 1.141a.75.75 0 00.963-.038l1.78-1.483a.75.75 0 011.026.046l2.47 3.073a.75.75 0 01.191.53l-.018.156L16.29 18H3.71l-2.818-7.599zM4.11 16.5l1.625-4.333a.75.75 0 01.963.038l1.78 1.483a.75.75 0 001.006.039l1.37-1.141a.75.75 0 01.963-.038l1.78 1.483a.75.75 0 001.006.039l1.625-4.333L15.427 16.5H4.11z" clip-rule="evenodd" /></svg>
                <span>Service Requests</span>
            </NavLink>
            <NavLink href=@($"/customer/{CustomerId}/proposals") Match="NavLinkMatch.Prefix" class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V8.342a2 2 0 00-.586-1.414l-4.928-4.928A2 2 0 0011.658 2H4zm1.5 8.25a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zm0 2.5a.75.75 0 01.75-.75h4.5a.75.75 0 010 1.5h-4.5a.75.75 0 01-.75-.75z" clip-rule="evenodd" /></svg>
                <span>Proposals</span>
            </NavLink>
            <NavLink href=@($"/customer/{CustomerId}/project-history") Match="NavLinkMatch.Prefix" class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm.75-13a.75.75 0 00-1.5 0v5c0 .414.336.75.75.75h4a.75.75 0 000-1.5h-3.25V5z" clip-rule="evenodd" /></svg>
                <span>Project History</span>
            </NavLink>
            <NavLink href=@($"/customer/{CustomerId}/messages") Match="NavLinkMatch.Prefix" class="nav-item">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M2.5 3A1.5 1.5 0 001 4.5v11A1.5 1.5 0 002.5 17h15A1.5 1.5 0 0019 15.5v-11A1.5 1.5 0 0017.5 3h-15zM2.5 4.5a.5.5 0 01.5-.5h14a.5.5 0 01.5.5v2.879a.25.25 0 01-.073.177l-7.25 7.25a.25.25 0 01-.177.073H9.75a.25.25 0 01-.177-.073l-7.25-7.25A.25.25 0 012.5 7.379V4.5z" clip-rule="evenodd" /></svg>
                <span>Messages</span>
                <span class="message-dot"></span>
            </NavLink>
        </div>
    </div>

    <!-- Post Project Button -->
    <button class="post-project-btn" @onclick="PostNewProject">
        Post a New Project
    </button>
</nav>

@code {
    [Parameter]
    public Guid CustomerId { get; set; }
    [Parameter]
    public UserProfileVM User { get; set; } = new UserProfileVM { Name = "Jane Doe" }; // Default for design

    private void PostNewProject()
    {
        NavManager.NavigateTo("/customer/post-project");
    }
}

