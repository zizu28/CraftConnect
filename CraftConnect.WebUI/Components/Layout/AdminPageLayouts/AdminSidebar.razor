@inject NavigationManager Navigation
@implements IDisposable

<nav class="admin-sidebar">
    <div class="sidebar-top">
        <div class="user-profile">
            <div class="user-avatar">A</div>
            <div class="user-info">
                <span class="user-name">Admin</span>
                <span class="user-title">admin@example.com</span>
            </div>
        </div>

        <div class="nav-links">
            <NavLink href="/admin/dashboard" class="nav-item" Match="NavLinkMatch.All">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.25 2A2.25 2.25 0 001 4.25v11.5A2.25 2.25 0 003.25 18h13.5A2.25 2.25 0 0019 15.75V4.25A2.25 2.25 0 0016.75 2H3.25zM7.5 12.5a.75.75 0 01.75-.75h3.5a.75.75 0 010 1.5h-3.5a.75.75 0 01-.75-.75zM7.5 8a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 017.5 8z" clip-rule="evenodd" /></svg>
                <span>Dashboard</span>
            </NavLink>

            <NavLink href="/admin/users" class="nav-item" Match="NavLinkMatch.Prefix">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10 8a3 3 0 100-6 3 3 0 000 6zM3.465 14.493a1.23 1.23 0 00.41 1.412A9.957 9.957 0 0010 18c2.31 0 4.438-.78 6.125-2.095a1.23 1.23 0 00.41-1.412A9.99 9.99 0 0010 12c-2.31 0-4.438.78-6.125 2.095a1.23 1.23 0 00-.41 1.412z" /></svg>
                <span>Users</span>
            </NavLink>

            <NavLink href="/admin/content" class="nav-item" Match="NavLinkMatch.Prefix">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M8.5 4a.5.5 0 00-.5.5v2.5a.5.5 0 00.5.5h2.5a.5.5 0 00.5-.5V4.5a.5.5 0 00-.5-.5h-2.5zM8 4.5a.5.5 0 01.5-.5h2.5a.5.5 0 01.5.5v2.5a.5.5 0 01-.5.5h-2.5a.5.5 0 01-.5-.5V4.5zM8.5 9a.5.5 0 00-.5.5v2.5a.5.5 0 00.5.5h2.5a.5.5 0 00.5-.5V9.5a.5.5 0 00-.5-.5h-2.5zM8 9.5a.5.5 0 01.5-.5h2.5a.5.5 0 01.5.5v2.5a.5.5 0 01-.5.5h-2.5a.5.5 0 01-.5-.5V9.5z" clip-rule="evenodd" /></svg>
                <span>Content And Skills</span>
            </NavLink>

            <NavLink class="nav-item" href="/admin/email-templates" Match="NavLinkMatch.Prefix">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M3 4a2 2 0 00-2 2v1.161l8.441 4.221a1.25 1.25 0 001.118 0L19 7.161V6a2 2 0 00-2-2H3z" /><path d="M19 9.839l-7.759 3.879a2.75 2.75 0 01-2.482 0L1 9.839v6.412A2 2 0 003 18h14a2 2 0 002-2V9.839z" /></svg>
                Email Templates
            </NavLink>

            <NavLink class="nav-item" href="/admin/moderation" Match="NavLinkMatch.Prefix">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.982 3.111A4.5 4.5 0 006.5 6.368v.667c0 1.393.789 2.63 1.966 3.232l-2.61 6.524A.75.75 0 006.39 18H9.6a.75.75 0 00.722-.55L11.25 14h-2.5l1.68-4.2a4.48 4.48 0 005.192-.128A4.5 4.5 0 0010.982 3.11zM12.5 14a.75.75 0 00.722-.55l.928-2.32a.75.75 0 00-1.428-.57l-.928 2.32a.75.75 0 00.706 1.12z" clip-rule="evenodd" /></svg>
                Content Moderation
            </NavLink>

            <NavLink class="nav-item" href="/admin/system-health" Match="NavLinkMatch.Prefix">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8 4a.75.75 0 01.75.75v3.496c0 .414.336.75.75.75h2.5a.75.75 0 010 1.5h-2.5a.75.75 0 01-.75-.75V4.75A.75.75 0 018 4z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM1.75 10a8.25 8.25 0 1116.5 0 8.25 8.25 0 01-16.5 0z" clip-rule="evenodd" /></svg>
                System Health
            </NavLink>

            <NavLink href="/admin/announcements" class="nav-item" Match="NavLinkMatch.Prefix">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9.344 3.033c.264-.866 1.488-.866 1.752 0l.215 1.446a.75.75 0 001.07.606l1.357-.514c.83-.314 1.637.59 1.323 1.42l-.514 1.357a.75.75 0 00.606 1.07l1.446.215c.866.264.866 1.488 0 1.752l-1.446.215a.75.75 0 00-.606 1.07l.514 1.357c.314.83-.492 1.733-1.323 1.42l-1.357-.514a.75.75 0 00-1.07.606l-.215 1.446c-.264.866-1.488.866-1.752 0l-.215-1.446a.75.75 0 00-1.07-.606l-1.357.514c-.83.314-1.637-.59-1.323-1.42l.514-1.357a.75.75 0 00-.606-1.07l-1.446-.215c-.866-.264-.866-1.488 0-1.752l1.446-.215a.75.75 0 00.606-1.07l-.514-1.357c-.314-.83.492-1.733 1.323-1.42l1.357.514a.75.75 0 001.07-.606l.215-1.446zM10 7a3 3 0 100 6 3 3 0 000-6z" clip-rule="evenodd" /></svg>
                <span>Announcements</span>
            </NavLink>

            <NavLink href="/admin/payments" class="nav-item" Match="NavLinkMatch.Prefix">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M4.5 2A1.5 1.5 0 003 3.5v13A1.5 1.5 0 004.5 18h11a1.5 1.5 0 001.5-1.5v-13A1.5 1.5 0 0015.5 2h-11zM10 6a.75.75 0 01.75.75v1.5h1.5a.75.75 0 010 1.5h-1.5v1.5a.75.75 0 01-1.5 0v-1.5h-1.5a.75.75 0 010-1.5h1.5v-1.5A.75.75 0 0110 6z" /></svg>
                <span>Payments</span>
            </NavLink>

            <NavLink href="/admin/discounts" class="nav-item" Match="NavLinkMatch.Prefix">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.73 5.922a.75.75 0 00-1.06 1.06l1.24 1.24-1.24 1.24a.75.75 0 101.06 1.06l1.24-1.24 1.24 1.24a.75.75 0 101.06-1.06L11.072 8.22l1.24-1.24a.75.75 0 00-1.06-1.06L10.012 7.16 8.77 5.922zM10 12.25a.75.75 0 01.75.75v.01a.75.75 0 01-1.5 0V13a.75.75 0 01.75-.75z" clip-rule="evenodd" /></svg>
                <span>Discounts</span>
            </NavLink>

            <NavLink href="/admin/disputes" class="nav-item" Match="NavLinkMatch.Prefix">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M2.5 3A1.5 1.5 0 001 4.5v1.755a.75.75 0 001.5 0V4.5a.5.5 0 01.5-.5h13a.5.5 0 01.5.5v1.755a.75.75 0 001.5 0V4.5A1.5 1.5 0 0017.5 3h-15zM1.75 8a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5a.75.75 0 01.75-.75zm16.5 0a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5a.75.75 0 01.75-.75zM2.5 16A1.5 1.5 0 011 14.5v-1.755a.75.75 0 011.5 0V14.5a.5.5 0 00.5.5h13a.5.5 0 00.5-.5v-1.755a.75.75 0 011.5 0V14.5A1.5 1.5 0 0117.5 16h-15z" clip-rule="evenodd" /></svg>
                <span>Disputes</span>
            </NavLink>

            <NavLink href="/admin/analytics" class="nav-item" Match="NavLinkMatch.Prefix">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h16.5a.75.75 0 010 1.5H1.75A.75.75 0 011 2.75zM1 6.75A.75.75 0 011.75 6h16.5a.75.75 0 010 1.5H1.75A.75.75 0 011 6.75zM1 10.75A.75.75 0 011.75 10h16.5a.75.75 0 010 1.5H1.75a.75.75 0 01-.75-.75zM1 14.75A.75.75 0 011.75 14h16.5a.75.75 0 010 1.5H1.75a.75.75 0 01-.75-.75z" clip-rule="evenodd" /></svg>
                <span>Analytics</span>
            </NavLink>

            <NavLink href="/admin/logs" class="nav-item" Match="NavLinkMatch.Prefix">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M2.5 2A1.5 1.5 0 001 3.5v13A1.5 1.5 0 002.5 18h15a1.5 1.5 0 001.5-1.5v-13A1.5 1.5 0 0017.5 2h-15zM4 6a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 6zm0 3a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 9zm0 3a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H4.75A.75.75 0 014 12z" clip-rule="evenodd" /></svg>
                <span>System Logs</span>
            </NavLink>
        </div>
    </div>

    <div class="sidebar-bottom">
        <NavLink href="/admin/settings" class="nav-item" Match="NavLinkMatch.Prefix">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.26.96c-1.4-1.03-3.08.3-2.05 1.7A1.532 1.532 0 013.17 7.49c-1.56.38-1.56 2.6 0 2.98a1.532 1.532 0 01-.96 2.26c-1.03 1.4.3 3.08 1.7 2.05a1.532 1.532 0 012.26.96c.38 1.56 2.6 1.56 2.98 0a1.532 1.532 0 012.26-.96c1.4 1.03 3.08-.3 2.05-1.7a1.532 1.532 0 01.96-2.26c1.56-.38 1.56-2.6 0-2.98a1.532 1.532 0 01-.96-2.26c-1.03-1.4.3-3.08 1.7-2.05a1.532 1.532 0 012.26-.96c.38-1.56 2.6-1.56 2.98 0a1.532 1.532 0 012.26.96c1.4-1.03 3.08.3 2.05 1.7A1.532 1.532 0 0116.83 7.49c1.56.38 1.56 2.6 0 2.98a1.532 1.532 0 01-.96 2.26c-1.03 1.4.3 3.08 1.7 2.05a1.532 1.532 0 012.26.96c.38 1.56 2.6 1.56 2.98 0a1.532 1.532 0 012.26-.96c1.4 1.03 3.08-.3 2.05-1.7a1.532 1.532 0 01.96-2.26c1.56-.38 1.56-2.6 0-2.98a1.532 1.532 0 01-.96-2.26c-1.03-1.4.3-3.08 1.7-2.05a1.532 1.532 0 012.26-.96zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd" /></svg>
            <span>Settings</span>
        </NavLink>
        <button class="btn-logout" @onclick="Logout">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M19 10a.75.75 0 00-.75-.75H8.704l1.048-.943a.75.75 0 10-1.004-1.114l-2.5 2.25a.75.75 0 000 1.114l2.5 2.25a.75.75 0 101.004-1.114l-1.048-.943H18.25A.75.75 0 0019 10z" clip-rule="evenodd" /></svg>
            <span>Logout</span>
        </button>
    </div>
</nav>

@code {
    private string currentUrl;

    protected override void OnInitialized()
    {
        currentUrl = Navigation.Uri;
        Navigation.LocationChanged += OnLocationChanged;
    }

    private void OnLocationChanged(object sender, LocationChangedEventArgs e)
    {
        currentUrl = e.Location;
        StateHasChanged();
    }

    private void Logout()
    {
        // Add your logout logic here
        Navigation.NavigateTo("/login");
    }

    public void Dispose()
    {
        Navigation.LocationChanged -= OnLocationChanged;
    }
}